<div class="d-flex justify-content-between align-items-center">
  <div class="d-flex justify-content-end align-items-center">
    <span class="font-weight-bold text-info">
      <div class="type-label px-1 me-2" [class]="cfgTypeClass">
        {{
          (cfgType === 'ground'
            ? 'cveProfile.type.GROUND'
            : 'cveProfile.type.CUSTOM'
          ) | translate
        }}
      </div>
      <span *ngIf="filtered">
        {{ 'enum.FOUND' | translate }}
        {{ filteredCount }}&nbsp;/
      </span>
      <span *ngIf="!filtered"> {{ 'enum.OUT_OF' | translate }}&nbsp; </span>
      {{ rowData.length }}
    </span>
  </div>
  <div class="d-flex justify-content-end align-items-center">
    <div
      matTooltip="{{ 'cveProfile.CRD_ACCEPT' | translate }}"
      [matTooltipDisabled]="cfgType !== 'ground'">
      <button
        (click)="addProfile()"
        *appDisplayControl="'write_vuls_profile'"
        [disabled]="cfgType === 'ground'"
        class="me-3 d-flex justify-content-end align-items-center"
        mat-stroked-button>
        <i class="eos-icons me-2">add_circle</i
        >{{ 'cveProfile.ADD' | translate }}
      </button>
    </div>
    <app-quick-filter
      (filterCountChange)="filterCountChanged($event)"
      [gridOptions]="gridOptions"
      [gridApi]="gridApi"
      [showCount]="false"
      class="me-2">
    </app-quick-filter>
    <button
      (click)="exportProfile()"
      *appDisplayControl="'vuls_profile'"
      [disabled]="!rowData || rowData.length === 0"
      aria-label="Export Vulnerability Profile"
      mat-button>
      <em class="eos-icons icon-18">download</em>
      {{ 'cveProfile.EXPORT' | translate }}
    </button>
    <button
      (click)="openImportProfileModal()"
      *appDisplayControl="'write_vuls_profile'"
      aria-label="Import Vulnerability Profile"
      mat-button>
      <em class="eos-icons icon-18">upload</em>
      {{ 'cveProfile.IMPORT' | translate }}
    </button>
    <app-loading-button
      (btnClick)="refresh()"
      [appearance]="'mat-button'"
      [buttonClasses]="'d-flex justify-content-center align-items-center'"
      [disabled]="!!(refreshing$ | async)"
      [iconClasses]="'eos-icons icon-18'"
      [iconName]="'refresh'"
      [id]="'vulnerability-profile-refresh-button'"
      [loading]="!!(refreshing$ | async)"
      [text]="'network.REFRESH' | translate"
      [type]="'button'">
    </app-loading-button>
  </div>
</div>

<ag-grid-angular
  (window:resize)="onResize()"
  [gridOptions]="gridOptions"
  class="ag-theme-alpine"
  style="width: 100%; height: calc(100% - 70px)">
</ag-grid-angular>
