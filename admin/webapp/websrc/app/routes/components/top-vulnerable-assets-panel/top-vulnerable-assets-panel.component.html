<mat-card class="margin-bottom-m dashboard-card">
  <mat-card-title class="d-flex align-items-center justify-content-between">
    <div class="d-flex align-items-center justify-content-start">
      {{ 'dashboard.body.panel_title.TOP_VULNERABLE_' + assetType.toUpperCase() | translate }}
    </div>
    <app-panel-instruction-curtain
      *ngIf="!isScanOff"
      class="d-flex align-items-center justify-content-end"
      [instructions]="instructions"
    >
    </app-panel-instruction-curtain>
  </mat-card-title>
  <mat-card-content *ngIf="isScanOff else topVulnerableAssets" style="display: table; width: 100%; height: 100%;" class="text-center">
    <div
      class="row margin-horizon-0" style="display: table-cell; vertical-align: middle;"
    >
      <app-vulnerability-instruction
        *ngIf="details"
        [isAutoScanOn]="false"
        [details]="details" 
      >
      </app-vulnerability-instruction>
    </div>
  </mat-card-content>
</mat-card>

<ng-template #topVulnerableAssets>
  <mat-card-content>
    <div
      class="row margin-horizon-0"
      *ngIf="details?.highPriorityVulnerabilities"
    >
      <app-top-vulnerable-assets-chart
        class="col-sm-12"
        [highPriorityVulnerabilities]="details.highPriorityVulnerabilities"
        [assetType]="assetType"
      ></app-top-vulnerable-assets-chart>
    </div>
  </mat-card-content>
</ng-template>
